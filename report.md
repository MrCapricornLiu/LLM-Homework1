## BPE算法概述
BPE算法 (Byte Pair Encoding) 是一种基于统计的方法，最初用于文本压缩，但被广泛应用于自然语言处理（NLP）中作为词汇切分的工具。其核心思想是通过不断合并最频繁的字符对，逐步构建一个子词级别的词汇表，从而提高模型处理词语的灵活性和效率。

### BPE算法的基本步骤：  
初始化： 把输入的文本转化为字符级别的表示（即将单词分解为字符）。  
计算频率： 统计文本中所有相邻字符对（bigram）的频率。  
合并操作： 每次合并频率最高的字符对，形成一个新的“子词”单元，并替换原文中的该对字符。  
重复步骤： 重复合并步骤直到达到设定的词汇大小（vocab_size）。  

## 基于BPE算法训练LLM Tokenizer的流程：
文本预处理： 将训练数据进行预处理，例如分句、去除无用字符等，得到一个纯文本的字符串。  
初始化tokenizer： 创建一个空的tokenizer并初始化基本的词汇表。初始的词汇表通常包含所有单一字符和一个特殊的\<unk\>标记。  
BPE训练： 使用BPE算法从训练数据中逐步合并字符对，更新词汇表直到达到目标词汇大小（vocab_size）。  
编码与解码： 使用训练好的tokenizer对新的文本进行编码和解码操作，将文本转化为模型可以处理的token ID序列，或将token ID序列转换回原始文本。  